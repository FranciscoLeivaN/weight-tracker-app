name: Pruebas E2E con Cypress

on:
  push:
    branches: [ main, master, develop ]

jobs:
  e2e-tests:
    name: Ejecutar pruebas E2E
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Cypress.io
        uses: cypress-io/github-action@v5
        with:
          start: npm run serve  # Comando para iniciar el servidor de la aplicación
          wait-on: 'http://localhost:3000'  # Espera a que el servidor esté listo
          wait-on-timeout: 60  # Tiempo máximo de espera en segundos
          build: npm run build  # Construye la aplicación antes de ejecutar las pruebas
          browser: electron  # Usa Electron como navegador para las pruebas E2E
      